{smcl}
{txt}{sf}{ul off}{.-}
      name:  {res}<unnamed>
       {txt}log:  {res}C:\Users\aljosephson\git\dissertation\e2_pref\logs/sorg_dhape.smcl
  {txt}log type:  {res}smcl
 {txt}opened on:  {res}20 Oct 2020, 18:34:01
{txt}
{com}. 
. capture program drop myboot
{txt}
{com}. program define myboot, rclass
{txt}  1{com}. preserve
{txt}  2{com}. 
. craggit $sorg1m, sec ($sorg2m) vce(robust)
{txt}  3{com}. 
. predict x2b, eq(Tier2)
{txt}  4{com}. predict sigma, eq(sigma)
{txt}  5{com}. gen IMR = normalden(x2b/sigma)/normal(x2b/sigma)
{txt}  6{com}. 
. gen pe_ss1=_b[sorg_staple1]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt}  7{com}. sum pe_ss1
{txt}  8{com}. 
. gen pe_ss2=_b[sorg_staple2]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt}  9{com}. sum pe_ss2
{txt} 10{com}. 
. gen pe_ss3=_b[sorg_staple3]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 11{com}. sum pe_ss3
{txt} 12{com}. 
. gen pe_ms1=_b[maize_staple1]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 13{com}. sum pe_ms1
{txt} 14{com}. 
. gen pe_ms2=_b[maize_staple2]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 15{com}. sum pe_ms2
{txt} 16{com}. 
. gen pe_ms3=_b[maize_staple3]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 17{com}. sum pe_ms3
{txt} 18{com}. 
. gen pe_mis1=_b[millet_staple1]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 19{com}. sum pe_mis1
{txt} 20{com}. 
. gen pe_mis2=_b[millet_staple2]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 21{com}. sum pe_ms2
{txt} 22{com}. 
. gen pe_mis3=_b[millet_staple3]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 23{com}. sum pe_mis3
{txt} 24{com}. 
. gen pe_tots=_b[tot_season]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 25{com}. sum pe_tots
{txt} 26{com}. 
. gen pe_shock=_b[shock]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 27{com}. sum pe_shock
{txt} 28{com}. 
. gen pe_sdr=_b[sd_rain]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 29{com}. sum pe_sdr
{txt} 30{com}. 
. gen pe_plota=_b[plot_area]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 31{com}. sum pe_plota
{txt} 32{com}. 
. gen pe_hage=_b[head_age]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 33{com}. sum pe_hage
{txt} 34{com}. 
. gen pe_hedu=_b[head_edu]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 35{com}. sum pe_hedu 
{txt} 36{com}. 
. gen pe_fem=_b[femhead]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 37{com}. sum pe_fem 
{txt} 38{com}. 
. gen pe_cat=_b[num_cattle]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 39{com}. sum pe_cat
{txt} 40{com}. 
. gen pe_plough=_b[plough]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 41{com}. sum pe_plough 
{txt} 42{com}. 
. gen pe_rec=_b[rec_ext]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 43{com}. sum pe_rec
{txt} 44{com}. 
. gen pe_work=_b[worker]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 45{com}. sum pe_work 
{txt} 46{com}. 
. gen pe_offl=_b[offfarm_labor]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 47{com}. sum pe_offl
{txt} 48{com}. 
. gen pe_onf=_b[onfarmfull_labor]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 49{com}. sum pe_onf
{txt} 50{com}. 
. gen pe_onp=_b[onfarmpart_labor]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 51{com}. sum pe_onp
{txt} 52{com}. 
. gen pe_mig=_b[migrant_labor]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 53{com}. sum pe_mig
{txt} 54{com}. 
. gen pe_div=_b[div_index]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 55{com}. sum pe_div 
{txt} 56{com}. 
. sum pe_ss1
{txt} 57{com}. return scalar ape1=r(mean)
{txt} 58{com}. matrix ape1=r(ape1)
{txt} 59{com}. 
. sum pe_ss2
{txt} 60{com}. return scalar ape2=r(mean)
{txt} 61{com}. matrix ape2=r(ape2)
{txt} 62{com}. 
. sum pe_ss3
{txt} 63{com}. return scalar ape3=r(mean)
{txt} 64{com}. matrix ape3=r(ape3)
{txt} 65{com}. 
. sum pe_ms1
{txt} 66{com}. return scalar ape4=r(mean)
{txt} 67{com}. matrix ape4=r(ape4)
{txt} 68{com}. 
. sum pe_ms2
{txt} 69{com}. return scalar ape5=r(mean)
{txt} 70{com}. matrix ape5=r(ape5)
{txt} 71{com}. 
. sum pe_ms3
{txt} 72{com}. return scalar ape6=r(mean)
{txt} 73{com}. matrix ape6=r(ape6)
{txt} 74{com}. 
. sum pe_mis1
{txt} 75{com}. return scalar ape7=r(mean)
{txt} 76{com}. matrix ape7=r(ape7)
{txt} 77{com}. 
. sum pe_mis2
{txt} 78{com}. return scalar ape8=r(mean)
{txt} 79{com}. matrix ape8=r(ape8)
{txt} 80{com}. 
. sum pe_mis3
{txt} 81{com}. return scalar ape9=r(mean)
{txt} 82{com}. matrix ape9=r(ape9)
{txt} 83{com}. 
. sum pe_tots
{txt} 84{com}. return scalar ape10=r(mean)
{txt} 85{com}. matrix ape10=r(ape10)
{txt} 86{com}. 
. sum pe_shock
{txt} 87{com}. return scalar ape11=r(mean)
{txt} 88{com}. matrix ape11=r(ape11)
{txt} 89{com}. 
. sum pe_sdr
{txt} 90{com}. return scalar ape12=r(mean)
{txt} 91{com}. matrix ape12=r(ape12)
{txt} 92{com}. 
. sum pe_plota
{txt} 93{com}. return scalar ape13=r(mean)
{txt} 94{com}. matrix ape13=r(ape13)
{txt} 95{com}. 
. sum pe_hage
{txt} 96{com}. return scalar ape14=r(mean)
{txt} 97{com}. matrix ape14=r(ape14)
{txt} 98{com}. 
. sum pe_hedu
{txt} 99{com}. return scalar ape15=r(mean)
{txt}100{com}. matrix ape15=r(ape15)
{txt}101{com}. 
. sum pe_fem 
{txt}102{com}. return scalar ape16=r(mean)
{txt}103{com}. matrix ape16=r(ape16)
{txt}104{com}. 
. sum pe_cat
{txt}105{com}. return scalar ape17=r(mean)
{txt}106{com}. matrix ape17=r(ape17)
{txt}107{com}. 
. sum pe_plough 
{txt}108{com}. return scalar ape18=r(mean)
{txt}109{com}. matrix ape18=r(ape18)
{txt}110{com}. 
. sum pe_rec
{txt}111{com}. return scalar ape19=r(mean)
{txt}112{com}. matrix ape19=r(ape19)
{txt}113{com}. 
. sum pe_work 
{txt}114{com}. return scalar ape20=r(mean)
{txt}115{com}. matrix ape20=r(ape20)
{txt}116{com}. 
. sum pe_offl
{txt}117{com}. return scalar ape21=r(mean)
{txt}118{com}. matrix ape21=r(ape21)
{txt}119{com}. 
. sum pe_onf
{txt}120{com}. return scalar ape22=r(mean)
{txt}121{com}. matrix ape22=r(ape22)
{txt}122{com}. 
. sum pe_onp
{txt}123{com}. return scalar ape23=r(mean)
{txt}124{com}. matrix ape23=r(ape23)
{txt}125{com}. 
. sum pe_mig
{txt}126{com}. return scalar ape24=r(mean)
{txt}127{com}. matrix ape24=r(ape24)
{txt}128{com}. 
. sum pe_div 
{txt}129{com}. return scalar ape25=r(mean)
{txt}130{com}. matrix ape25=r(ape25)
{txt}131{com}. 
. drop pe_ss1 pe_ss2 pe_ss3 pe_ms1 pe_ms2 pe_ms3 pe_mis1 pe_mis2 pe_mis3 pe_tots pe_shock pe_sdr ///
>  pe_plota pe_hage pe_hedu pe_fem pe_cat pe_plough pe_rec pe_work pe_offl pe_onf pe_onp pe_mig pe_div 
{txt}132{com}. 
. 
. restore
{txt}133{com}. end 
{txt}
{com}. 
. 
. bootstrap sorg_staple1=r(ape1) sorg_staple2=r(ape2) sorg_staple3=r(ape3) maize_staple1=r(ape4) maize_staple2=r(ape5) maize_staple3=r(ape6) /// 
> millet_staple1=r(ape7) millet_stape2=r(ape8) millet_staple3=r(ape9) tot_season=r(ape10) shock=r(ape11) sd_rain=r(ape12) plot_area=r(ape13) head_age=r(ape14) head_edu=r(ape15) ///
> femhead=r(ape16) num_cattle=r(ape17) plough=r(ape18) rec_ext=r(ape19) worker=r(ape20) offfarm_labor=r(ape21) onfarmfull_labor=r(ape22) onfarmpart_labor=r(ape23) ///
> migrant_labor=r(ape24) div_index=r(ape25), reps(1000) seed(123) cluster(rc) : myboot
{res}{txt}(running {bf:myboot} on estimation sample)
{err}variable {bf}x2b{sf} already defined
an error occurred when {bf:bootstrap} executed {bf:myboot}
{txt}{search r(110), local:r(110);}

end of do-file

{search r(110), local:r(110);}

{com}. do "C:\Users\ALJOSE~1\AppData\Local\Temp\STD3b5c_000000.tmp"
{txt}
{com}. 
. * Project: Preferences, Crop Choice - Zimbabwe
. * Created: February 2020
. * Created by: alj
. * Last edit: 20 October 2020
. * Stata v.16.1
. 
. * does
.         * runs all tables reported in Josephson & Ricker-Gilbert  
. 
. * assumes
.         * access to data file(s) previously created (e.g. hh-crop_21Feb) 
. 
. * to do 
.         * clean up data files (if sharing)
.         * code and data can be made available on github and googledrive 
. 
. * **********************************************************************
. * 0 - setup
. * **********************************************************************
. 
. * define
.         global  fil             =       "C:\Users\aljosephson\Dropbox\Out for Review\DISE2_Sorghum\_Jan-Feb 2020\Data" 
{txt}
{com}.         global  code    =       "C:\Users\aljosephson\git\dissertation\e2_pref\code"
{txt}
{com}.         global  logs    =       "C:\Users\aljosephson\git\dissertation\e2_pref\logs" 
{txt}
{com}. 
. * open log
.         cap log                 close
{smcl}
{com}{sf}{ul off}{smcl}
{com}{sf}{ul off}{txt}{.-}
      name:  {res}<unnamed>
       {txt}log:  {res}C:\Users\aljosephson\git\dissertation\e2_pref\logs/sorg_dhape.smcl
  {txt}log type:  {res}smcl
 {txt}opened on:  {res}20 Oct 2020, 18:34:26
{txt}
{com}. 
. capture program drop myboot
{txt}
{com}. program define myboot, rclass
{txt}  1{com}. preserve
{txt}  2{com}. 
. craggit $sorg1m, sec ($sorg2m) vce(robust)
{txt}  3{com}. 
. predict x2b, eq(Tier2)
{txt}  4{com}. predict sigma, eq(sigma)
{txt}  5{com}. gen IMR = normalden(x2b/sigma)/normal(x2b/sigma)
{txt}  6{com}. 
. gen pe_ss1=_b[sorg_staple1]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt}  7{com}. sum pe_ss1
{txt}  8{com}. 
. gen pe_ss2=_b[sorg_staple2]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt}  9{com}. sum pe_ss2
{txt} 10{com}. 
. gen pe_ss3=_b[sorg_staple3]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 11{com}. sum pe_ss3
{txt} 12{com}. 
. gen pe_ms1=_b[maize_staple1]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 13{com}. sum pe_ms1
{txt} 14{com}. 
. gen pe_ms2=_b[maize_staple2]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 15{com}. sum pe_ms2
{txt} 16{com}. 
. gen pe_ms3=_b[maize_staple3]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 17{com}. sum pe_ms3
{txt} 18{com}. 
. gen pe_mis1=_b[millet_staple1]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 19{com}. sum pe_mis1
{txt} 20{com}. 
. gen pe_mis2=_b[millet_staple2]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 21{com}. sum pe_ms2
{txt} 22{com}. 
. gen pe_mis3=_b[millet_staple3]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 23{com}. sum pe_mis3
{txt} 24{com}. 
. gen pe_tots=_b[tot_season]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 25{com}. sum pe_tots
{txt} 26{com}. 
. gen pe_shock=_b[shock]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 27{com}. sum pe_shock
{txt} 28{com}. 
. gen pe_sdr=_b[sd_rain]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 29{com}. sum pe_sdr
{txt} 30{com}. 
. gen pe_plota=_b[plot_area]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 31{com}. sum pe_plota
{txt} 32{com}. 
. gen pe_hage=_b[head_age]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 33{com}. sum pe_hage
{txt} 34{com}. 
. gen pe_hedu=_b[head_edu]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 35{com}. sum pe_hedu 
{txt} 36{com}. 
. gen pe_fem=_b[femhead]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 37{com}. sum pe_fem 
{txt} 38{com}. 
. gen pe_cat=_b[num_cattle]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 39{com}. sum pe_cat
{txt} 40{com}. 
. gen pe_plough=_b[plough]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 41{com}. sum pe_plough 
{txt} 42{com}. 
. gen pe_rec=_b[rec_ext]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 43{com}. sum pe_rec
{txt} 44{com}. 
. gen pe_work=_b[worker]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 45{com}. sum pe_work 
{txt} 46{com}. 
. gen pe_offl=_b[offfarm_labor]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 47{com}. sum pe_offl
{txt} 48{com}. 
. gen pe_onf=_b[onfarmfull_labor]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 49{com}. sum pe_onf
{txt} 50{com}. 
. gen pe_onp=_b[onfarmpart_labor]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 51{com}. sum pe_onp
{txt} 52{com}. 
. gen pe_mig=_b[migrant_labor]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 53{com}. sum pe_mig
{txt} 54{com}. 
. gen pe_div=_b[div_index]*((1-(normalden(x2b/sigma)/normal(x2b/sigma))*(x2b/sigma+(normalden(x2b/sigma)/normal(x2b/sigma)))))
{txt} 55{com}. sum pe_div 
{txt} 56{com}. 
. sum pe_ss1
{txt} 57{com}. return scalar ape1=r(mean)
{txt} 58{com}. matrix ape1=r(ape1)
{txt} 59{com}. 
. sum pe_ss2
{txt} 60{com}. return scalar ape2=r(mean)
{txt} 61{com}. matrix ape2=r(ape2)
{txt} 62{com}. 
. sum pe_ss3
{txt} 63{com}. return scalar ape3=r(mean)
{txt} 64{com}. matrix ape3=r(ape3)
{txt} 65{com}. 
. sum pe_ms1
{txt} 66{com}. return scalar ape4=r(mean)
{txt} 67{com}. matrix ape4=r(ape4)
{txt} 68{com}. 
. sum pe_ms2
{txt} 69{com}. return scalar ape5=r(mean)
{txt} 70{com}. matrix ape5=r(ape5)
{txt} 71{com}. 
. sum pe_ms3
{txt} 72{com}. return scalar ape6=r(mean)
{txt} 73{com}. matrix ape6=r(ape6)
{txt} 74{com}. 
. sum pe_mis1
{txt} 75{com}. return scalar ape7=r(mean)
{txt} 76{com}. matrix ape7=r(ape7)
{txt} 77{com}. 
. sum pe_mis2
{txt} 78{com}. return scalar ape8=r(mean)
{txt} 79{com}. matrix ape8=r(ape8)
{txt} 80{com}. 
. sum pe_mis3
{txt} 81{com}. return scalar ape9=r(mean)
{txt} 82{com}. matrix ape9=r(ape9)
{txt} 83{com}. 
. sum pe_tots
{txt} 84{com}. return scalar ape10=r(mean)
{txt} 85{com}. matrix ape10=r(ape10)
{txt} 86{com}. 
. sum pe_shock
{txt} 87{com}. return scalar ape11=r(mean)
{txt} 88{com}. matrix ape11=r(ape11)
{txt} 89{com}. 
. sum pe_sdr
{txt} 90{com}. return scalar ape12=r(mean)
{txt} 91{com}. matrix ape12=r(ape12)
{txt} 92{com}. 
. sum pe_plota
{txt} 93{com}. return scalar ape13=r(mean)
{txt} 94{com}. matrix ape13=r(ape13)
{txt} 95{com}. 
. sum pe_hage
{txt} 96{com}. return scalar ape14=r(mean)
{txt} 97{com}. matrix ape14=r(ape14)
{txt} 98{com}. 
. sum pe_hedu
{txt} 99{com}. return scalar ape15=r(mean)
{txt}100{com}. matrix ape15=r(ape15)
{txt}101{com}. 
. sum pe_fem 
{txt}102{com}. return scalar ape16=r(mean)
{txt}103{com}. matrix ape16=r(ape16)
{txt}104{com}. 
. sum pe_cat
{txt}105{com}. return scalar ape17=r(mean)
{txt}106{com}. matrix ape17=r(ape17)
{txt}107{com}. 
. sum pe_plough 
{txt}108{com}. return scalar ape18=r(mean)
{txt}109{com}. matrix ape18=r(ape18)
{txt}110{com}. 
. sum pe_rec
{txt}111{com}. return scalar ape19=r(mean)
{txt}112{com}. matrix ape19=r(ape19)
{txt}113{com}. 
. sum pe_work 
{txt}114{com}. return scalar ape20=r(mean)
{txt}115{com}. matrix ape20=r(ape20)
{txt}116{com}. 
. sum pe_offl
{txt}117{com}. return scalar ape21=r(mean)
{txt}118{com}. matrix ape21=r(ape21)
{txt}119{com}. 
. sum pe_onf
{txt}120{com}. return scalar ape22=r(mean)
{txt}121{com}. matrix ape22=r(ape22)
{txt}122{com}. 
. sum pe_onp
{txt}123{com}. return scalar ape23=r(mean)
{txt}124{com}. matrix ape23=r(ape23)
{txt}125{com}. 
. sum pe_mig
{txt}126{com}. return scalar ape24=r(mean)
{txt}127{com}. matrix ape24=r(ape24)
{txt}128{com}. 
. sum pe_div 
{txt}129{com}. return scalar ape25=r(mean)
{txt}130{com}. matrix ape25=r(ape25)
{txt}131{com}. 
. drop pe_ss1 pe_ss2 pe_ss3 pe_ms1 pe_ms2 pe_ms3 pe_mis1 pe_mis2 pe_mis3 pe_tots pe_shock pe_sdr ///
>  pe_plota pe_hage pe_hedu pe_fem pe_cat pe_plough pe_rec pe_work pe_offl pe_onf pe_onp pe_mig pe_div 
{txt}132{com}. 
. 
. restore
{txt}133{com}. end 
{txt}
{com}. 
. 
. bootstrap sorg_staple1=r(ape1) sorg_staple2=r(ape2) sorg_staple3=r(ape3) maize_staple1=r(ape4) maize_staple2=r(ape5) maize_staple3=r(ape6) /// 
> millet_staple1=r(ape7) millet_stape2=r(ape8) millet_staple3=r(ape9) tot_season=r(ape10) shock=r(ape11) sd_rain=r(ape12) plot_area=r(ape13) head_age=r(ape14) head_edu=r(ape15) ///
> femhead=r(ape16) num_cattle=r(ape17) plough=r(ape18) rec_ext=r(ape19) worker=r(ape20) offfarm_labor=r(ape21) onfarmfull_labor=r(ape22) onfarmpart_labor=r(ape23) ///
> migrant_labor=r(ape24) div_index=r(ape25), reps(1000) seed(123) cluster(rc) : myboot
{res}{txt}(running {bf:myboot} on estimation sample)

{p 0 9 2} warning: Because {cmd:myboot} is not an estimation command or does not set {cmd:e(sample)}, {cmd:bootstrap} has no way to determine which observations are used in calculating the statistics and so assumes that all observations are used. This means that no observations will be excluded from the resampling because of missing values or other reasons.{p_end}

{p 9 9 2} If the assumption is not true, press Break, save the data, and drop the observations that are to be excluded. Be sure that the dataset in memory contains only the relevant data.{p_end}

Bootstrap replications ({res}1000{txt})
{hline 4}{c +}{hline 3} 1 {hline 3}{c +}{hline 3} 2 {hline 3}{c +}{hline 3} 3 {hline 3}{c +}{hline 3} 4 {hline 3}{c +}{hline 3} 5 
......{err}x{txt}...{err}x{txt}....{err}x{txt}..........